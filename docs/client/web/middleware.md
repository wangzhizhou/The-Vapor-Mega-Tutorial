Vapor自带一些中间件，中间件就在客户端请求和服务端响应中间，可以完成一些诸如： 请求日志记录、捕获错误和显示相关信息、限制访问量等功能

在Vapor中使用最频繁的就是`ErrorMiddleware`了，它能够把同步和异步的请求错误转换成HTTP响应。意外的错误会使服务器立即断开与客户端的连接并打印出内部错误日志。使用了`ErrorMiddleware`可以确保抛出的所有错误都被转换成合适的HTTP响应。

在生产环境下，`ErrorMiddleware `会把所有的错误都转换成500服务器内部错误的HTTP响应，这在一定程序上也保证了应用的安全，因为一些错误信息中会包含一些敏感信息，作了这层转换就可以保护这些敏感信息被泄露出去。

`FileMiddleware`是另外一个中间件，这个中间件会对`Public`目录下的文件进行文件服务，这在写前端页面时可以提供对js、css、html页面的相关静态文件服务。

`SessionMiddleware`会话中间件用来跟踪客户端连接的整个会话过程。

对于大型Web应用，中间件是很重要的。